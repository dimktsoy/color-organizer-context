(this["webpackJsonpcolor-organizer-context"]=this["webpackJsonpcolor-organizer-context"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/color-icon-remove.91bebd82.svg"},,,function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(10),c=n.n(a),i=n(7),l=n(13),u=n(6),s=n(30),d=[{id:1,title:"Brandy",color:"#87413F",rating:5},{id:2,title:"Avocado",color:"#568203",rating:4},{id:3,title:"Black coffee",color:"#3B2F2F",rating:5},{id:4,title:"Blue sapphire",color:"#126180",rating:0}],m=n(1),p=n(2),v=n(3),f=n(4),b=r.a.createContext(null),h=n(5),O=(n(19),function(e){var t=e.onAddColor,n=void 0===t?function(e){return e}:t,a=Object(o.useRef)(null),c=Object(o.useRef)(null);return r.a.createElement("form",{className:"add-color-form",onSubmit:function(e){e.preventDefault(),n(a.current.value,c.current.value),a.current.value="",c.current.value="",a.current.focus()}},r.a.createElement("input",{className:"add-color-form__input",ref:a,type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0446\u0432\u0435\u0442\u0430..."}),r.a.createElement("input",{className:"add-color-form__input add-color-form__input--color",ref:c,type:"color",required:!0}),r.a.createElement("button",{className:"add-color-form__button",type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0432\u0435\u0442"))}),g=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var o;return Object(m.a)(this,n),(o=t.call(this,e)).onAddColor=o.onAddColor.bind(Object(h.a)(o)),o}return Object(p.a)(n,[{key:"onAddColor",value:function(e,t){this.context.dispatch(function(e,t){return{type:"ADD_COLOR",id:Object(s.a)(),title:e,color:t}}(e,t))}},{key:"render",value:function(){return r.a.createElement(O,{onAddColor:this.onAddColor})}}]),n}(r.a.Component);g.contextType=b;var y=g,C=n(11),E=n.n(C),R=(n(20),function(e){var t=e.selected,n=void 0!==t&&t,o=e.onClick,a=void 0===o?function(e){return e}:o;return r.a.createElement("div",{className:n?"star star--selected":"star",onClick:a})}),j=(n(21),function(e){var t=e.rating,n=void 0===t?0:t,o=e.totalStars,a=void 0===o?5:o,c=e.onRate,i=void 0===c?function(e){return e}:c;return r.a.createElement("div",{className:"star-rating"},r.a.createElement("div",{className:"star-rating__list"},Object(u.a)(Array(a)).map((function(e,t){return r.a.createElement(R,{key:t,selected:t<n,onClick:function(){return i(t+1)}})}))),r.a.createElement("p",{className:"star-rating__stat"},n," \u0438\u0437 ",a))}),k=(n(22),function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.id;console.log("componentWillMount color id",e),this.style={backgroundColor:"#f1f1f1"}}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,o=n.rating,r=n.id;return console.log("shouldComponentUpdate color id",r),o!==e.rating}},{key:"componentWillUpdate",value:function(e,t){var n=this.props.id;console.log("componentWillUpdate color id",n),this.style={backgroundColor:null}}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.id;console.log("componentDidUpdate color id",n)}},{key:"componentWillUnmount",value:function(){var e=this.props.id;console.log("componentWillUnmount color id",e)}},{key:"render",value:function(){var e=this.props,t=e.color,n=e.title,o=e.rating,a=void 0===o?0:o,c=e.onRate,i=void 0===c?function(e){return e}:c,l=e.onRemoveColor,u=void 0===l?function(e){return e}:l;return r.a.createElement("div",{className:"color",style:this.style},r.a.createElement("h3",{className:"color__title"},n),r.a.createElement("div",{className:"color__preview",style:{backgroundColor:t}}),r.a.createElement("div",{className:"color__rating"},r.a.createElement(j,{rating:a,onRate:i})),r.a.createElement("button",{className:"color__button-remove",onClick:u},r.a.createElement("img",{src:E.a,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",width:"30",height:"30"})))}}]),n}(r.a.Component)),_=(n(23),function(e){var t=e.colors,n=void 0===t?[]:t,o=e.onRemoveColor,a=void 0===o?function(e){return e}:o,c=e.onRate,i=void 0===c?function(e){return e}:c;return r.a.createElement("div",{className:"color-list"},n.map((function(e){return r.a.createElement(k,Object.assign({key:e.id},e,{onRemoveColor:function(){return a(e.id)},onRate:function(t){return i(e.id,t)}}))})))}),N=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var o;return Object(m.a)(this,n),(o=t.call(this,e)).onRemoveColor=o.onRemoveColor.bind(Object(h.a)(o)),o.onRate=o.onRate.bind(Object(h.a)(o)),o}return Object(p.a)(n,[{key:"onRemoveColor",value:function(e){this.context.dispatch({type:"REMOVE_COLOR",id:e})}},{key:"onRate",value:function(e,t){this.context.dispatch(function(e,t){return{type:"RATE_COLOR",id:e,rating:t}}(e,t))}},{key:"render",value:function(){var e=this.context.getState().colors;return r.a.createElement(_,{colors:e,onRemoveColor:this.onRemoveColor,onRate:this.onRate})}}]),n}(r.a.Component);N.contextType=b;var x=N,A=(n(24),function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=this.props.store.subscribe((function(){return e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(b.Provider,{value:this.props.store},r.a.createElement(y,null),r.a.createElement(x,null)))}}]),n}(r.a.Component)),U=(n(25),Object(i.b)(Object(i.a)({colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COLOR":return[].concat(Object(u.a)(e),[{id:t.id,title:t.title,color:t.color,rating:0}]);case"REMOVE_COLOR":return e.filter((function(e){return e.id!==t.id}));case"RATE_COLOR":return e.map((function(e){return e.id!==t.id?e:Object(l.a)({},e,{rating:t.rating})}));default:return e}}})));window.store=U,c.a.render(r.a.createElement(A,{store:U}),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.b8ac8fcc.chunk.js.map