{"version":3,"sources":["components/Color/color-icon-remove.svg","store/reducers.js","StoreContext.js","components/AddColorForm/AddColorForm.js","components/AddColorForm/AddColorFormContainer.js","store/actions.js","components/Star/Star.js","components/StarRating/StarRating.js","components/Color/Color.js","components/ColorList/ColorList.js","components/ColorList/ColorListContainer.js","App.js","index.js"],"names":["module","exports","initialState","id","title","color","rating","StoreContext","React","createContext","AddColorForm","onAddColor","f","text","useRef","className","onSubmit","e","preventDefault","current","value","focus","ref","type","required","placeholder","AddColorFormContainer","props","bind","this","context","dispatch","v4","addColor","Component","contextType","Star","selected","onClick","StarRating","totalStars","onRate","Array","map","star","index","key","Color","console","log","style","backgroundColor","nextProps","nextState","prevProps","prevState","onRemoveColor","src","iconRemove","alt","width","height","ColorList","colors","ColorListContainer","colorId","rateColor","getState","App","unsubscribe","store","subscribe","forceUpdate","Provider","createStore","combineReducers","state","action","filter","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8ac8fcc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/color-icon-remove.91bebd82.svg\";","import { ADD_COLOR, REMOVE_COLOR, RATE_COLOR } from './actions';\n\nconst initialState = [\n  {\n    id: 1,\n    title: 'Brandy',\n    color: '#87413F',\n    rating: 5,\n  },\n  {\n    id: 2,\n    title: 'Avocado',\n    color: '#568203',\n    rating: 4,\n  },\n  {\n    id: 3,\n    title: 'Black coffee',\n    color: '#3B2F2F',\n    rating: 5,\n  },\n  {\n    id: 4,\n    title: 'Blue sapphire',\n    color: '#126180',\n    rating: 0,\n  },\n];\n\nexport const colorsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_COLOR:\n      return [\n        ...state,\n        {\n          id: action.id,\n          title: action.title,\n          color: action.color,\n          rating: 0,\n        },\n      ];\n    case REMOVE_COLOR:\n      return state.filter((color) => color.id !== action.id);\n    case RATE_COLOR:\n      return state.map((color) =>\n        color.id !== action.id ? color : { ...color, rating: action.rating }\n      );\n    default:\n      return state;\n  }\n};\n","import React from 'react';\n\nconst StoreContext = React.createContext(null);\n\nexport default StoreContext;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport './AddColorForm.scss';\n\nconst AddColorForm = ({ onAddColor = (f) => f }) => {\n  const text = useRef(null);\n  const color = useRef(null);\n  const submit = (e) => {\n    e.preventDefault();\n    onAddColor(text.current.value, color.current.value);\n    text.current.value = '';\n    color.current.value = '';\n    text.current.focus();\n  };\n  return (\n    <form className=\"add-color-form\" onSubmit={submit}>\n      <input\n        className=\"add-color-form__input\"\n        ref={text}\n        type=\"text\"\n        required\n        placeholder=\"Заголовок цвета...\"\n      />\n      <input\n        className=\"add-color-form__input add-color-form__input--color\"\n        ref={color}\n        type=\"color\"\n        required\n      />\n      <button className=\"add-color-form__button\" type=\"submit\">\n        Добавить цвет\n      </button>\n    </form>\n  );\n};\n\nAddColorForm.propTypes = {\n  onAddColor: PropTypes.func,\n};\n\nexport default AddColorForm;\n","import React from 'react';\nimport StoreContext from '../../StoreContext';\nimport { addColor } from '../../store/actions';\nimport AddColorForm from './AddColorForm';\n\nclass AddColorFormContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onAddColor = this.onAddColor.bind(this);\n  }\n\n  onAddColor(text, color) {\n    const store = this.context;\n    store.dispatch(addColor(text, color));\n  }\n\n  render() {\n    return <AddColorForm onAddColor={this.onAddColor} />;\n  }\n}\n\nAddColorFormContainer.contextType = StoreContext;\n\nexport default AddColorFormContainer;\n","import { v4 } from 'uuid';\n\nexport const ADD_COLOR = 'ADD_COLOR';\nexport const REMOVE_COLOR = 'REMOVE_COLOR';\nexport const RATE_COLOR = 'RATE_COLOR';\n\nexport const addColor = (title, color) => ({\n  type: ADD_COLOR,\n  id: v4(),\n  title,\n  color,\n});\n\nexport const removeColor = (id) => ({\n  type: REMOVE_COLOR,\n  id,\n});\n\nexport const rateColor = (id, rating) => ({\n  type: RATE_COLOR,\n  id,\n  rating,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Star.scss';\n\nconst Star = ({ selected = false, onClick = (f) => f }) => (\n  <div\n    className={selected ? 'star star--selected' : 'star'}\n    onClick={onClick}\n  />\n);\n\nStar.propTypes = {\n  selected: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default Star;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Star from './../Star/Star';\nimport './StarRating.scss';\n\nconst StarRating = ({ rating = 0, totalStars = 5, onRate = (f) => f }) => {\n  return (\n    <div className=\"star-rating\">\n      <div className=\"star-rating__list\">\n        {[...Array(totalStars)].map((star, index) => (\n          <Star\n            key={index}\n            selected={index < rating}\n            onClick={() => onRate(index + 1)}\n          />\n        ))}\n      </div>\n      <p className=\"star-rating__stat\">\n        {rating} из {totalStars}\n      </p>\n    </div>\n  );\n};\n\nStarRating.propTypes = {\n  rating: PropTypes.number,\n  totalStars: PropTypes.number,\n  onRate: PropTypes.func,\n};\n\nexport default StarRating;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport iconRemove from './color-icon-remove.svg';\nimport StarRating from './../StarRating/StarRating';\nimport './Color.scss';\n\nclass Color extends React.Component {\n  // UNSAFE_componentWillMount\n  componentWillMount() {\n    const { id } = this.props;\n    console.log('componentWillMount color id', id);\n    this.style = {\n      backgroundColor: '#f1f1f1',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const { rating, id } = this.props;\n    console.log('shouldComponentUpdate color id', id);\n    return rating !== nextProps.rating;\n  }\n\n  // UNSAFE_componentWillUpdate\n  componentWillUpdate(nextProps, nextState) {\n    const { id } = this.props;\n    console.log('componentWillUpdate color id', id);\n    this.style = { backgroundColor: null };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { id } = this.props;\n    console.log('componentDidUpdate color id', id);\n  }\n\n  componentWillUnmount() {\n    const { id } = this.props;\n    console.log('componentWillUnmount color id', id);\n  }\n\n  render() {\n    const {\n      color,\n      title,\n      rating = 0,\n      onRate = (f) => f,\n      onRemoveColor = (f) => f,\n    } = this.props;\n\n    return (\n      <div className=\"color\" style={this.style}>\n        <h3 className=\"color__title\">{title}</h3>\n        <div\n          className=\"color__preview\"\n          style={{ backgroundColor: color }}\n        ></div>\n        <div className=\"color__rating\">\n          <StarRating rating={rating} onRate={onRate} />\n        </div>\n        <button className=\"color__button-remove\" onClick={onRemoveColor}>\n          <img src={iconRemove} alt=\"удалить\" width=\"30\" height=\"30\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nColor.propTypes = {\n  color: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  rating: PropTypes.number,\n  onRate: PropTypes.func,\n  onRemoveColor: PropTypes.func,\n};\n\nexport default Color;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Color from './../Color/Color';\nimport './ColorList.scss';\n\nconst ColorList = ({\n  colors = [],\n  onRemoveColor = (f) => f,\n  onRate = (f) => f,\n}) => {\n  return (\n    <div className=\"color-list\">\n      {colors.map((color) => (\n        <Color\n          key={color.id}\n          {...color}\n          onRemoveColor={() => onRemoveColor(color.id)}\n          onRate={(rating) => onRate(color.id, rating)}\n        />\n      ))}\n    </div>\n  );\n};\n\nColorList.propTypes = {\n  colors: PropTypes.array,\n  onRemoveColor: PropTypes.func,\n  onRate: PropTypes.func,\n};\n\nexport default ColorList;\n","import React from 'react';\nimport StoreContext from '../../StoreContext';\nimport { removeColor, rateColor } from '../../store/actions';\nimport ColorList from './ColorList';\n\nclass ColorListContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onRemoveColor = this.onRemoveColor.bind(this);\n    this.onRate = this.onRate.bind(this);\n  }\n\n  onRemoveColor(colorId) {\n    const store = this.context;\n    store.dispatch(removeColor(colorId));\n  }\n\n  onRate(colorId, rating) {\n    const store = this.context;\n    store.dispatch(rateColor(colorId, rating));\n  }\n\n  render() {\n    const { colors } = this.context.getState();\n    return (\n      <ColorList\n        colors={colors}\n        onRemoveColor={this.onRemoveColor}\n        onRate={this.onRate}\n      />\n    );\n  }\n}\n\nColorListContainer.contextType = StoreContext;\n\nexport default ColorListContainer;\n","import React from 'react';\nimport StoreContext from './StoreContext';\nimport AddColorFormContainer from './components/AddColorForm/AddColorFormContainer';\nimport ColorListContainer from './components/ColorList/ColorListContainer';\nimport './App.scss';\n\nclass App extends React.Component {\n  componentWillMount() {\n    this.unsubscribe = this.props.store.subscribe(() => this.forceUpdate());\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n  render() {\n    return (\n      <div className=\"app\">\n        <StoreContext.Provider value={this.props.store}>\n          <AddColorFormContainer />\n          <ColorListContainer />\n        </StoreContext.Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, combineReducers } from 'redux';\nimport { colorsReducer } from './store/reducers';\nimport App from './App';\nimport './index.scss';\n\nconst store = createStore(\n  combineReducers({\n    colors: colorsReducer,\n  })\n);\n\nwindow.store = store;\n\nReactDOM.render(<App store={store} />, document.getElementById('root'));\n"],"sourceRoot":""}